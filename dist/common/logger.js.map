{"version":3,"sources":["../../src/common/logger.js"],"names":["enable","disable","createLogger","setup","debug","info","warn","error","namespace","createDebug","PREFIX","ns","ignorePrefix","_debugLogger","log","console","bind","_infoLogger","_warnLogger","_errorLogger","args","LOGGER"],"mappings":";;;;;QAIgBA,M,GAAAA,M;QAIAC,O,GAAAA,O;QAMAC,Y,GAAAA,Y;QAsCAC,K,GAAAA,K;QAKAC,K,GAAAA,K;QAMAC,I,GAAAA,I;QAMAC,I,GAAAA,I;QAMAC,K,GAAAA,K;;AAzEhB;;;;;;oMAFA;;AAIO,SAASP,MAAT,CAAgBQ,SAAhB,EAA2B;AAChCC,kBAAYT,MAAZ,CAAmBQ,SAAnB;AACD;;AAEM,SAASP,OAAT,GAAmB;AACxBQ,kBAAYR,OAAZ;AACD;;AAED,IAAIS,SAAS,EAAb;;AAEO,SAASR,YAAT,GAA8D;AAAA,MAAxCS,EAAwC,uEAAnC,EAAmC;;AAAA,iFAAJ,EAAI;AAAA,+BAA7BC,YAA6B;AAAA,MAA7BA,YAA6B,qCAAd,KAAc;;AACnE,MAAMJ,YAAY,CAAC,CAACI,YAAD,IAAiBF,MAAjB,GAA0BA,MAA1B,GAAmC,EAApC,KAA2C,CAACE,YAAD,IAAiBD,EAAjB,GAAsB,GAAtB,GAA4B,EAAvE,IAA6EA,EAA/F;;AAEA,MAAME,eAAe,qBAAYL,SAAZ,CAArB;AACAK,eAAaC,GAAb,GAAmBC,QAAQD,GAAR,CAAYE,IAAZ,MAAoBR,SAApB,CAAnB;;AAEA,MAAMS,cAAc,0BAAeT,SAAf,CAApB;AACAS,cAAYH,GAAZ,GAAkBC,QAAQV,IAAR,CAAaW,IAAb,CAAkBD,OAAlB,CAAlB;;AAEA,MAAMG,cAAc,0BAAeV,SAAf,CAApB;AACAU,cAAYJ,GAAZ,GAAkBC,QAAQT,IAAR,CAAaU,IAAb,CAAkBD,OAAlB,CAAlB;;AAEA,MAAMI,eAAe,0BAAeX,SAAf,CAArB;AACAW,eAAaL,GAAb,GAAmBC,QAAQR,KAAR,CAAcS,IAAd,CAAmBD,OAAnB,CAAnB;;AAEA,SAAO;AACLP,wBADK;AAELK,8BAFK;AAGLT,SAHK,mBAGU;AAAA,wCAANgB,IAAM;AAANA,YAAM;AAAA;;AACbP,qCAAa,OAAb,4BAAyBO,IAAzB;AACD,KALI;;AAMLH,4BANK;AAOLZ,QAPK,kBAOS;AAAA,yCAANe,IAAM;AAANA,YAAM;AAAA;;AACZH,oCAAY,MAAZ,4BAAuBG,IAAvB;AACD,KATI;;AAULF,4BAVK;AAWLZ,QAXK,kBAWS;AAAA,yCAANc,IAAM;AAANA,YAAM;AAAA;;AACZF,oCAAY,MAAZ,4BAAuBE,IAAvB;AACD,KAbI;;AAcLD,8BAdK;AAeLZ,SAfK,mBAeU;AAAA,yCAANa,IAAM;AAANA,YAAM;AAAA;;AACbD,qCAAa,OAAb,4BAAyBC,IAAzB;AACD;AAjBI,GAAP;AAmBD;;AAED,IAAIC,SAAS,IAAb;;AAEO,SAASlB,KAAT,CAAeK,SAAf,EAA0B;AAC/BE,WAASF,SAAT;AACAa,WAASnB,cAAT;AACD;;AAEM,SAASE,KAAT,GAAwB;AAC7B,MAAIiB,MAAJ,EAAY;AAAA;;AACV,uBAAOjB,KAAP;AACD;AACF;;AAEM,SAASC,IAAT,GAAuB;AAC5B,MAAIgB,MAAJ,EAAY;AAAA;;AACV,wBAAOhB,IAAP;AACD;AACF;;AAEM,SAASC,IAAT,GAAuB;AAC5B,MAAIe,MAAJ,EAAY;AAAA;;AACV,wBAAOf,IAAP;AACD;AACF;;AAEM,SAASC,KAAT,GAAwB;AAC7B,MAAIc,MAAJ,EAAY;AAAA;;AACV,wBAAOd,KAAP;AACD;AACF","file":"logger.js","sourcesContent":["/* eslint-disable no-underscore-dangle */\n\nimport createDebug from 'debug';\n\nexport function enable(namespace) {\n  createDebug.enable(namespace);\n}\n\nexport function disable() {\n  createDebug.disable();\n}\n\nlet PREFIX = '';\n\nexport function createLogger(ns = '', { ignorePrefix = false } = {}) {\n  const namespace = (!ignorePrefix && PREFIX ? PREFIX : '') + (!ignorePrefix && ns ? ':' : '') + ns;\n\n  const _debugLogger = createDebug(namespace);\n  _debugLogger.log = console.log.bind(`${namespace}`);\n\n  const _infoLogger = createDebug(`${namespace}`);\n  _infoLogger.log = console.info.bind(console);\n\n  const _warnLogger = createDebug(`${namespace}`);\n  _warnLogger.log = console.warn.bind(console);\n\n  const _errorLogger = createDebug(`${namespace}`);\n  _errorLogger.log = console.error.bind(console);\n\n  return {\n    namespace,\n    _debugLogger,\n    debug(...args) {\n      _debugLogger('DEBUG', ...args);\n    },\n    _infoLogger,\n    info(...args) {\n      _infoLogger('INFO', ...args);\n    },\n    _warnLogger,\n    warn(...args) {\n      _warnLogger('WARN', ...args);\n    },\n    _errorLogger,\n    error(...args) {\n      _errorLogger('ERROR', ...args);\n    },\n  };\n}\n\nlet LOGGER = null;\n\nexport function setup(namespace) {\n  PREFIX = namespace;\n  LOGGER = createLogger();\n}\n\nexport function debug(...args) {\n  if (LOGGER) {\n    LOGGER.debug(...args);\n  }\n}\n\nexport function info(...args) {\n  if (LOGGER) {\n    LOGGER.info(...args);\n  }\n}\n\nexport function warn(...args) {\n  if (LOGGER) {\n    LOGGER.warn(...args);\n  }\n}\n\nexport function error(...args) {\n  if (LOGGER) {\n    LOGGER.error(...args);\n  }\n}\n"]}