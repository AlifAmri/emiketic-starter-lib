{"version":3,"sources":["../../src/common/error.js"],"names":["BaseError","err","code","message","extra","more","error","stack","name","Error","FailureError","args","FetchError","ValidationError"],"mappings":";;;;;;;;;;;;;;;;;;IAAaA,S,WAAAA,S;;;;;yBACCC,G,EAEJ;AAAA,qFAAJ,EAAI;;AAAA,UADNC,IACM,QADNA,IACM;AAAA,UADAC,OACA,QADAA,OACA;AAAA,UADSC,KACT,QADSA,KACT;AAAA,UADmBC,IACnB;;AACN,UAAMC,QAAQ,IAAI,IAAJ,CAASJ,QAAQD,IAAIC,IAArB,EAA2BC,WAAWF,IAAIE,OAA1C,eACRF,IAAIG,KAAJ,IAAa,EADL,EAERA,SAAS,EAFD,EAGTC,IAHS,EAAd;AAKAC,YAAMC,KAAN,GAAcN,IAAIM,KAAJ,IAAaD,MAAMC,KAAjC;AACA,aAAOD,KAAP;AACD;;;AAED,qBAAYJ,IAAZ,EAA4C;AAAA,QAA1BC,OAA0B,uEAAhB,EAAgB;AAAA,QAAZC,KAAY,uEAAJ,EAAI;;AAAA;;AAC1C,QAAI,CAACD,OAAL,EAAc;AACZA,gBAAUD,IAAV;AACAA,aAAO,SAAP;AACD;;AAJyC,sHAKpCC,OALoC;;AAM1C,UAAKK,IAAL,GAAY,WAAZ;AACA,UAAKN,IAAL,GAAYA,IAAZ;AACA,UAAKE,KAAL,GAAaA,KAAb;AAR0C;AAS3C;;;EAtB4BK,K;;IAyBlBC,Y,WAAAA,Y;;;AACX,0BAAqB;AAAA;;AAAA;;AAAA,sCAANC,IAAM;AAANA,UAAM;AAAA;;AAAA,0JACVA,IADU;;AAEnB,WAAKH,IAAL,GAAY,cAAZ;AAFmB;AAGpB;;;EAJ+BR,S;;IAOrBY,U,WAAAA,U;;;AACX,wBAAqB;AAAA;;AAAA;;AAAA,uCAAND,IAAM;AAANA,UAAM;AAAA;;AAAA,sJACVA,IADU;;AAEnB,WAAKH,IAAL,GAAY,YAAZ;AAFmB;AAGpB;;;EAJ6BE,Y;;IAOnBG,e,WAAAA,e;;;AACX,6BAAqB;AAAA;;AAAA;;AAAA,uCAANF,IAAM;AAANA,UAAM;AAAA;;AAAA,gKACVA,IADU;;AAEnB,WAAKH,IAAL,GAAY,iBAAZ;AAFmB;AAGpB;;;EAJkCE,Y","file":"error.js","sourcesContent":["export class BaseError extends Error {\n  static from(err, {\n    code, message, extra, ...more\n  } = {}) {\n    const error = new this(code || err.code, message || err.message, {\n      ...(err.extra || {}),\n      ...(extra || {}),\n      ...more,\n    });\n    error.stack = err.stack || error.stack;\n    return error;\n  }\n\n  constructor(code, message = '', extra = {}) {\n    if (!message) {\n      message = code;\n      code = 'Unknown';\n    }\n    super(message);\n    this.name = 'BaseError';\n    this.code = code;\n    this.extra = extra;\n  }\n}\n\nexport class FailureError extends BaseError {\n  constructor(...args) {\n    super(...args);\n    this.name = 'FailureError';\n  }\n}\n\nexport class FetchError extends FailureError {\n  constructor(...args) {\n    super(...args);\n    this.name = 'FetchError';\n  }\n}\n\nexport class ValidationError extends FailureError {\n  constructor(...args) {\n    super(...args);\n    this.name = 'ValidationError';\n  }\n}\n"]}