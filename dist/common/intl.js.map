{"version":3,"sources":["../../src/common/intl.js"],"names":["defineLocale","TIME_ZONE","Intl","DateTimeFormat","resolvedOptions","timeZone","locale","defaults","currency","$locale","$t","text","args","forEach","arg","replace","number","value","options","toLocaleString","style","date","toLocaleDateString","time","hour","minute","toLocaleTimeString","Object","assign","timestamp"],"mappings":";;;;;;;;QAEgBA,Y,GAAAA,Y;AAFT,IAAMC,gCAAYC,KAAKC,cAAL,GAAsBC,eAAtB,GAAwCC,QAA1D;;AAEA,SAASL,YAAT,CAAsBM,MAAtB,EAA6C;AAAA,MAAfC,QAAe,uEAAJ,EAAI;;AAClDA;AACEF,cAAUJ,SADZ;AAEEO,cAAU;AAFZ,KAGKD,QAHL;;AAMA,MAAME,UAAU;AACdC,MADc,cACXC,IADW,EACI;AAAA,wCAANC,IAAM;AAANA,YAAM;AAAA;;AAChBA,WAAKC,OAAL,CAAa,UAACC,GAAD;AAAA,eAAUH,OAAOA,KAAKI,OAAL,CAAa,KAAb,EAAoBD,GAApB,CAAjB;AAAA,OAAb;AACA,aAAOH,IAAP;AACD,KAJa;AAMdK,UANc,kBAMPC,KANO,EAMc;AAAA,UAAdC,OAAc,uEAAJ,EAAI;;AAC1B,aAAOD,MAAME,cAAN,CAAqBb,MAArB,EAA6BY,OAA7B,CAAP;AACD,KARa;;;AAUd;AACA;AACA;;AAEAV,YAdc,oBAcLS,KAdK,EAc8C;AAAA,UAA5CT,QAA4C,uEAAjCD,SAASC,QAAwB;AAAA,UAAdU,OAAc,uEAAJ,EAAI;;AAC1D,aAAOD,MAAME,cAAN,CAAqBb,MAArB;AACLc,eAAO,UADF;AAELZ;AAFK,SAGFU,OAHE,EAAP;AAKD,KApBa;AAsBdG,QAtBc,gBAsBTJ,KAtBS,EAsBY;AAAA,UAAdC,OAAc,uEAAJ,EAAI;;AACxB,aAAOD,MAAMK,kBAAN,CAAyBhB,MAAzB,eACFY,OADE;AAELb,kBAAUa,QAAQb,QAAR,IAAoBE,SAASF;AAFlC,SAAP;AAID,KA3Ba;AA6BdkB,QA7Bc,gBA8BZN,KA9BY,EAmCZ;AAAA,UAJAC,OAIA,uEAJU;AACRM,cAAM,SADE;AAERC,gBAAQ;AAFA,OAIV;;AACA,aAAOR,MAAMS,kBAAN,CAAyBpB,MAAzB,eACFY,OADE;AAELb,kBAAUa,QAAQb,QAAR,IAAoBE,SAASF;AAFlC,SAAP;AAID;AAxCa,GAAhB;;AA2CAsB,SAAOC,MAAP,CAAcnB,OAAd,EAAuB;AACrBoB,aADqB,qBACXZ,KADW,EACJ;AACf,aAAUR,QAAQY,IAAR,CAAaJ,KAAb,CAAV,SAAiCR,QAAQc,IAAR,CAAaN,KAAb,CAAjC;AACD;AAHoB,GAAvB;;AAMA,SAAOR,OAAP;AACD;;AAEM,IAAMA,4BAAUT,aAAa,IAAb,CAAhB","file":"intl.js","sourcesContent":["export const TIME_ZONE = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\nexport function defineLocale(locale, defaults = {}) {\n  defaults = {\n    timeZone: TIME_ZONE,\n    currency: 'USD',\n    ...defaults,\n  };\n\n  const $locale = {\n    $t(text, ...args) {\n      args.forEach((arg) => (text = text.replace('%{}', arg)));\n      return text;\n    },\n\n    number(value, options = {}) {\n      return value.toLocaleString(locale, options);\n    },\n\n    // currency(value, currency = defaults.currency, options = {}) {\n    //   return `${value.toLocaleString(locale, options)} ${currency}`;\n    // },\n\n    currency(value, currency = defaults.currency, options = {}) {\n      return value.toLocaleString(locale, {\n        style: 'currency',\n        currency,\n        ...options,\n      });\n    },\n\n    date(value, options = {}) {\n      return value.toLocaleDateString(locale, {\n        ...options,\n        timeZone: options.timeZone || defaults.timeZone,\n      });\n    },\n\n    time(\n      value,\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n      },\n    ) {\n      return value.toLocaleTimeString(locale, {\n        ...options,\n        timeZone: options.timeZone || defaults.timeZone,\n      });\n    },\n  };\n\n  Object.assign($locale, {\n    timestamp(value) {\n      return `${$locale.date(value)} ${$locale.time(value)}`;\n    },\n  });\n\n  return $locale;\n}\n\nexport const $locale = defineLocale('en');\n"]}