{"version":3,"sources":["../../src/common/intl.js"],"names":["defineLocale","TIME_ZONE","Intl","DateTimeFormat","resolvedOptions","timeZone","locale","defaults","currency","$t","text","args","forEach","arg","replace","number","value","options","toLocaleString","style","date","toLocaleDateString","time","hour","minute","toLocaleTimeString","timestamp"],"mappings":";;;;;;;;QAEgBA,Y,GAAAA,Y;AAFhB,IAAMC,YAAYC,KAAKC,cAAL,GAAsBC,eAAtB,GAAwCC,QAA1D;;AAEO,SAASL,YAAT,CAAsBM,MAAtB,EAA6C;AAAA,MAAfC,QAAe,uEAAJ,EAAI;;AAClDA;AACEF,cAAUJ,SADZ;AAEEO,cAAU;AAFZ,KAGKD,QAHL;;AAMA,WAASE,EAAT,CAAYC,IAAZ,EAA2B;AAAA,sCAANC,IAAM;AAANA,UAAM;AAAA;;AACzBA,SAAKC,OAAL,CAAa,UAACC,GAAD;AAAA,aAAUH,OAAOA,KAAKI,OAAL,CAAa,KAAb,EAAoBD,GAApB,CAAjB;AAAA,KAAb;AACA,WAAOH,IAAP;AACD;;AAEDD,KAAGM,MAAH,GAAY,SAASA,MAAT,CAAgBC,KAAhB,EAAqC;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAC/C,WAAOD,MAAME,cAAN,CAAqBZ,MAArB,EAA6BW,OAA7B,CAAP;AACD,GAFD;;AAIA;AACA;AACA;;AAEAR,KAAGD,QAAH,GAAc,SAASA,QAAT,CAAkBQ,KAAlB,EAAqE;AAAA,QAA5CR,QAA4C,uEAAjCD,SAASC,QAAwB;AAAA,QAAdS,OAAc,uEAAJ,EAAI;;AACjF,WAAOD,MAAME,cAAN,CAAqBZ,MAArB;AACLa,aAAO,UADF;AAELX;AAFK,OAGFS,OAHE,EAAP;AAKD,GAND;;AAQAR,KAAGW,IAAH,GAAU,SAASA,IAAT,CAAcJ,KAAd,EAAmC;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAC3C,WAAOD,MAAMK,kBAAN,CAAyBf,MAAzB,eACFW,OADE;AAELZ,gBAAUY,QAAQZ,QAAR,IAAoBE,SAASF;AAFlC,OAAP;AAID,GALD;;AAOAI,KAAGa,IAAH,GAAU,SAASA,IAAT,CACRN,KADQ,EAMR;AAAA,QAJAC,OAIA,uEAJU;AACRM,YAAM,SADE;AAERC,cAAQ;AAFA,KAIV;;AACA,WAAOR,MAAMS,kBAAN,CAAyBnB,MAAzB,eACFW,OADE;AAELZ,gBAAUY,QAAQZ,QAAR,IAAoBE,SAASF;AAFlC,OAAP;AAID,GAXD;;AAaAI,KAAGiB,SAAH,GAAe,SAASA,SAAT,CAAmBV,KAAnB,EAA0B;AACvC,WAAUP,GAAGW,IAAH,CAAQJ,KAAR,CAAV,YAA+BP,GAAGa,IAAH,CAAQN,KAAR,CAA/B;AACD,GAFD;;AAIA,SAAOP,EAAP;AACD;;AAEM,IAAMA,kBAAKT,aAAa,IAAb,CAAX","file":"intl.js","sourcesContent":["const TIME_ZONE = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\nexport function defineLocale(locale, defaults = {}) {\n  defaults = {\n    timeZone: TIME_ZONE,\n    currency: 'USD',\n    ...defaults,\n  };\n\n  function $t(text, ...args) {\n    args.forEach((arg) => (text = text.replace('%{}', arg)));\n    return text;\n  }\n\n  $t.number = function number(value, options = {}) {\n    return value.toLocaleString(locale, options);\n  };\n\n  // $t.currency = function currency(value, currency = defaults.currency, options = {}) {\n  //   return `${value.toLocaleString(locale, options)} ${currency}`;\n  // };\n\n  $t.currency = function currency(value, currency = defaults.currency, options = {}) {\n    return value.toLocaleString(locale, {\n      style: 'currency',\n      currency,\n      ...options,\n    });\n  };\n\n  $t.date = function date(value, options = {}) {\n    return value.toLocaleDateString(locale, {\n      ...options,\n      timeZone: options.timeZone || defaults.timeZone,\n    });\n  };\n\n  $t.time = function time(\n    value,\n    options = {\n      hour: 'numeric',\n      minute: 'numeric',\n    },\n  ) {\n    return value.toLocaleTimeString(locale, {\n      ...options,\n      timeZone: options.timeZone || defaults.timeZone,\n    });\n  };\n\n  $t.timestamp = function timestamp(value) {\n    return `${$t.date(value)} at ${$t.time(value)}`;\n  };\n\n  return $t;\n}\n\nexport const $t = defineLocale('en');\n"]}