{"version":3,"sources":["../../src/common/events.js"],"names":["EventEmitter","event","args","listeners","reduce","promise","listener","then","Promise","resolve","catch","error","NativeEventEmitter"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;IAEaA,Y;;;;;;;;;;;;;8BACDC,K,EAAgB;AAAA,wCAANC,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACxB,aAAO,KAAKC,SAAL,CAAeF,KAAf,EACJG,MADI,CACG,UAACC,OAAD,EAAUC,QAAV;AAAA,eAAuBD,OAAO,CAACE,IAAR,CAAa;AAAA,iBAAMC,OAAO,CAACC,OAAR,CAAgBH,QAAQ,MAAR,SAAYJ,IAAZ,CAAhB,CAAN;AAAA,SAAb,CAAvB;AAAA,OADH,EACkFM,OAAO,CAACC,OAAR,CAAgB,IAAhB,CADlF,EAEJC,KAFI,CAEE,UAACC,KAAD,EAAW;AAChB,cAAMA,KAAN;AACD,OAJI,CAAP;AAKD;;;;EAP+BC,oB","sourcesContent":["import { EventEmitter as NativeEventEmitter } from 'events';\n\nexport class EventEmitter extends NativeEventEmitter {\n  emitAsync(event, ...args) {\n    return this.listeners(event)\n      .reduce((promise, listener) => promise.then(() => Promise.resolve(listener(...args))), Promise.resolve(null))\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n"],"file":"events.js"}